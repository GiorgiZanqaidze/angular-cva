<div class="address-info-section">
  <h3>ğŸ  Address Information</h3>

  <form [formGroup]="addressForm" class="address-form">
    <div class="form-group">
      <label for="street">Street Address *</label>
      <input
        type="text"
        id="street"
        formControlName="street"
        placeholder="Enter your street address"
        [class.error]="hasError('street')"
        (blur)="touched()"
      />
      <div class="error-message" *ngIf="hasError('street')">
        {{ getErrorMessage('street') }}
      </div>
    </div>

    <div class="form-row">
      <div class="form-group">
        <label for="city">City *</label>
        <input
          type="text"
          id="city"
          formControlName="city"
          placeholder="Enter your city"
          [class.error]="hasError('city')"
          (blur)="touched()"
        />
        <div class="error-message" *ngIf="hasError('city')">
          {{ getErrorMessage('city') }}
        </div>
      </div>

      <div class="form-group">
        <label for="state">State/Province *</label>
        <input
          type="text"
          id="state"
          formControlName="state"
          placeholder="Enter your state/province"
          [class.error]="hasError('state')"
          (blur)="touched()"
        />
        <div class="error-message" *ngIf="hasError('state')">
          {{ getErrorMessage('state') }}
        </div>
      </div>
    </div>

    <div class="form-row">
      <div class="form-group">
        <label for="country">Country *</label>
        <select
          id="country"
          formControlName="country"
          [class.error]="hasError('country')"
          (blur)="touched()"
        >
          <option *ngFor="let country of countries" [value]="country.code">
            {{ country.name }}
          </option>
        </select>
        <div class="error-message" *ngIf="hasError('country')">
          {{ getErrorMessage('country') }}
        </div>
      </div>

      <div class="form-group">
        <label for="postalCode">Postal Code *</label>
        <input
          type="text"
          id="postalCode"
          formControlName="postalCode"
          placeholder="12345"
          [class.error]="hasError('postalCode')"
          (blur)="touched()"
        />
        <div class="error-message" *ngIf="hasError('postalCode')">
          {{ getErrorMessage('postalCode') }}
        </div>
      </div>
    </div>
  </form>

  <!-- Form Status Debug Info -->
  <div class="cva-debug" *ngIf="addressForm.value">
    <small>
      <strong>CVA Status:</strong>
      Valid: {{ isValid ? 'âœ…' : 'âŒ' }} |
      Touched: {{ isTouched ? 'âœ…' : 'âŒ' }} |
      Value: {{ addressForm.value | json }}
    </small>
  </div>
</div>
